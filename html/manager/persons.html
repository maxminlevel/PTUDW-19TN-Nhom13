<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    />
    <link
      rel="shortcut icon"
      href="../../images/favicon.ico"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../../css/style.css" />
    <title>Persons</title>
  </head>

  <body>
    <div class="m__main">
      <div id="m__nav"></div>
      <div class="m__container">
        <div id="m__sidebar"></div>
        <div class="m__content">
          <div class="m__content__header">
            <div class="m__title heading-primary">Patient</div>
            <div class="m__func">
              <div
                class="btn btn--primary"
                onclick="window.location.href = './add-person.html'"
              >
                <a href="./add-person.html">New patient</a>
              </div>
              <div class="btn btn--primary">Import file</div>
            </div>
          </div>
          <form action="submit" method="post">
            <ul class="s__filter">
              <li>
                <label for="fullname">Fullname</label>
                <input type="text" name="fullname" id="fullname" />
              </li>
              <li>
                <label for="citizen">Citizen ID</label>
                <input type="text" name="citizen" id="citizen" />
              </li>
              <li>
                <label for="dob">DoB</label>
                <input type="date" name="dob" id="dob" />
              </li>
              <li>
                <label for="state">State</label>
                <select name="state" id="state" size="1">
                  <option value="f0">F0</option>
                  <option value="f1">F1</option>
                  <option value="f2">F2</option>
                  <option value="f3">F3</option>
                </select>
              </li>
              <li>
                <label for="address">Address</label>
                <input type="text" name="address" id="address" />
              </li>
              <li>
                <button type="submit" value="submit" class="form__search">
                  <i class="fa-solid fa-magnifying-glass"></i>
                </button>
              </li>
            </ul>
          </form>
          <div class="line"></div>
          <table class="s__table">
            <tr>
              <th>
                <span>
                  ID
                  <button><i class="fa-solid fa-chevron-down"></i></button>
                </span>
              </th>
              <th>
                <span>
                  Fullname
                  <button><i class="fa-solid fa-chevron-down"></i></button>
                </span>
              </th>
              <th>
                <span>
                  Citizen ID
                  <button><i class="fa-solid fa-chevron-down"></i></button>
                </span>
              </th>
              <th>
                <span>
                  DoB
                  <button><i class="fa-solid fa-chevron-down"></i></button>
                </span>
              </th>
              <th>
                <span>
                  State
                  <button><i class="fa-solid fa-chevron-down"></i></button>
                </span>
              </th>
              <th>
                <span>
                  Address
                  <button><i class="fa-solid fa-chevron-down"></i></button>
                </span>
              </th>
              <th>
                <span>
                  Related
                  <button><i class="fa-solid fa-chevron-down"></i></button>
                </span>
              </th>
              <th>
                <span>
                  History
                  <button><i class="fa-solid fa-chevron-down"></i></button>
                </span>
              </th>
              <th>
                <span> </span>
              </th>
            </tr>
            <tr class="m__person__row">
              <td>001</td>
              <td>Nguyễn Văn A</td>
              <td>1122334556677</td>
              <td>12/12/1999</td>
              <td>F0</td>
              <td>112 Nguyễn Văn Cừ, P 10, Q 5, TP HCM</td>
              <td>
                <div class="m__person__related">
                  <div id="m__person__related">1</div>
                  <a class="btn" href="detail-related.html">Detail</a>
                </div>
              </td>
              <td>
                <div class="m__person__history">
                  <div id="m__person__history">1</div>
                  <a class="btn" href="detail-cure.html">Detail</a>
                </div>
              </td>
              <td class="m__person__btn_ed" style="border-style: none">
                <div class="m__person__btn_edit edit_patient_btn">
                  <i class="fa-solid fa-pen"></i>
                </div>
                <div class="m__person__btn_delete delete_patient_btn">
                  <i class="fa-solid fa-trash"></i>
                </div>
              </td>
            </tr>
          </table>
          <div id="s__paging"></div>
        </div>
      </div>
    </div>

    <!-- Edit patient box -->
    <div id="edit_patient_modal" class="modal">
      <div class="modal-content">
        <span class="edit_patient_btn_close close">&times;</span>
        <div class="m__title heading-primary u-center-text">
          Edit status patient
        </div>
        <form action="submit" method="post">
          <ul>
            <li>
              <label for="state">State</label>
              <select name="state" id="state" size="1">
                <option value="f0">F0</option>
                <option value="f1">F1</option>
                <option value="f2">F2</option>
                <option value="f3">F3</option>
              </select>
            </li>
            <li>
              <label for="address">Address</label>
              <input type="text" name="address" id="address" />
            </li>
          </ul>
          <div class="modal-content__btn_save btn edit_patient_btn_close">
            <p>Save</p>
          </div>
          <div class="modal-content__btn_cancel btn edit_patient_btn_close">
            <p>Cancel</p>
          </div>
        </form>
      </div>
    </div>

    <!-- Delete patient box -->
    <div id="delete_patient_modal" class="modal">
      <div class="modal-content">
        <div class="m__title heading-primary u-center-text">
          Delete this patient?
        </div>
        <form action="submit" method="post">
          <div class="modal-content__btn_save btn delete_patient_btn_close">
            <p>YES</p>
          </div>
          <div class="modal-content__btn_cancel btn delete_patient_btn_close">
            <p>NO</p>
          </div>
        </form>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script>
      $(function () {
        $('#m__nav').load('../shared/manager/navbar.html')
        $('#m__sidebar').load('../shared/manager/sidebar.html')
        $('#s__paging').load('../shared/paging.html')
      })
    </script>

    <!--Js for delete patient pop up-->
    <script>
      var delete_patient_modal = document.getElementById('delete_patient_modal')

      // Get the button that opens the modal
      var delete_patient_btn =
        document.getElementsByClassName('delete_patient_btn')

      // Get the element that closes the modal
      var delete_patient_btn_close = document.getElementsByClassName(
        'delete_patient_btn_close'
      )

      // When the user clicks the button, open the modal
      for (let i = 0; i < delete_patient_btn.length; i++) {
        delete_patient_btn[i].onclick = () => {
          delete_patient_modal.style.display = 'block'
        }
      }

      // When the user clicks close the modal
      for (let i = 0; i < delete_patient_btn_close.length; i++) {
        delete_patient_btn_close[i].onclick = () => {
          delete_patient_modal.style.display = 'none'
        }
      }
    </script>

    <!--Js for edit patient pop up-->
    <script>
      var edit_patient_modal = document.getElementById('edit_patient_modal')

      // Get the button that opens the modal
      var edit_patient_btn = document.getElementsByClassName('edit_patient_btn')

      // Get the element that closes the modal
      var edit_patient_btn_close = document.getElementsByClassName(
        'edit_patient_btn_close'
      )

      // When the user clicks the button, open the modal
      for (let i = 0; i < edit_patient_btn.length; i++) {
        edit_patient_btn[i].onclick = () => {
          edit_patient_modal.style.display = 'block'
        }
      }

      // When the user clicks close the modal
      for (let i = 0; i < edit_patient_btn_close.length; i++) {
        edit_patient_btn_close[i].onclick = () => {
          edit_patient_modal.style.display = 'none'
        }
      }

      window.onclick = function (event) {
        if (event.target == edit_patient_modal) {
          edit_patient_modal.style.display = 'none'
        }
      }
    </script>
  </body>
</html>
